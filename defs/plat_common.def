# Definitions for RHEL4

# 3rd PARTY INCLUDES

ifeq ($(PACKAGING_COMMAND), rpmbuild)
	PACKAGING_VERSION := $(shell $(PACKAGING_COMMAND) --version)
endif

ifeq ($(PACKAGING_VERSION), RPM version 4.4.1)
	RPMCOPYRIGHTSTR := License
else
	RPMCOPYRIGHTSTR := Copyright
endif
ifeq ($(PACKAGING_VERSION), RPM version 4.4.2)
	RPMCOPYRIGHTSTR := License
endif

COMPAT_LIBSTDC := compat-libstdc++

BUNDLE_EXT := tgz

THIRD_PARTY	:= $(BUILD_ROOT)/../ThirdParty

LDAP_VERSION	:= 2.3.34
LDAP_DIR	:= openldap-$(LDAP_VERSION)
LDAP_SOURCE	:= $(THIRD_PARTY)/openldap/builds/$(BUILD_PLATFORM)/$(LDAP_DIR)

BDB_VERSION	:= 4.2.52.4
BDB_DIR		:= sleepycat-$(BDB_VERSION)
BDB_SOURCE	:= $(THIRD_PARTY)/sleepycat/builds/$(BUILD_PLATFORM)/$(BDB_DIR)


TOMCAT_MAJOR_VER	:= 5
TOMCAT_MINOR_VER	:= 5
TOMCAT_MICRO_VER	:= 15
TOMCAT_VERSION		:= $(TOMCAT_MAJOR_VER).$(TOMCAT_MINOR_VER).$(TOMCAT_MICRO_VER)
TOMCAT_DIR				:= apache-tomcat-$(TOMCAT_VERSION)
TOMCAT_HOME				:= /opt/zimbra/$(TOMCAT_DIR)
TOMCAT_SOURCE			:= $(THIRD_PARTY)/jakarta-tomcat/$(TOMCAT_DIR)

JETTY_MAJOR_VER		:= 6
JETTY_MINOR_VER		:= 1
JETTY_MICRO_VER		:= 3
JETTY_VERSION			:= $(JETTY_MAJOR_VER).$(JETTY_MINOR_VER).$(JETTY_MICRO_VER)
JETTY_DIR					:= jetty-$(JETTY_VERSION)
JETTY_HOME				:= /opt/zimbra/$(JETTY_DIR)
JETTY_SOURCE			:= $(THIRD_PARTY)/jetty/$(JETTY_DIR)

SLF4J_VERSION     := 1.3.0
SLF4J_DIR         := slf4j-$(SLF4J_VERSION)
SLF4J_SOURCE		  := $(THIRD_PARTY)/slf4j/$(SLF4J_DIR)

ifeq ($(ZIMBRA_USE_TOMCAT), 1)
MAILBOXD_SERVER := tomcat
MAILBOXD_MINOR_VERSION := $(TOMCAT_MAJOR_VER).$(TOMCAT_MINOR_VER)
MAILBOXD_VERSION := $(TOMCAT_VERSION)
MAILBOXD_DIR := $(TOMCAT_DIR)
MAILBOXD_SOURCE := $(TOMCAT_SOURCE)
else
MAILBOXD_SERVER := jetty
MAILBOXD_MINOR_VERSION := $(JETTY_MAJOR_VER).$(JETTY_MINOR_VER)
MAILBOXD_VERSION := $(JETTY_VERSION)
MAILBOXD_DIR := $(JETTY_DIR)
MAILBOXD_SOURCE := $(JETTY_SOURCE)
endif

MYSQL_VERSION_STRING := 5.0.33
MYSQL_VERSION	:= standard-$(MYSQL_VERSION_STRING)-pc-linux-gnu-i686-glibc23
MYSQL_CLIENT_VERSION := standard-$(MYSQL_VERSION_STRING)-clientlibs
MYSQL_DIR	= mysql-$(MYSQL_VERSION)
MYSQL_SOURCE 	= $(THIRD_PARTY)/mysql/$(BUILD_PLATFORM)/$(MYSQL_DIR)

POSTFIX_VERSION := 2.2.9
POSTFIX_DIR	:= postfix-$(POSTFIX_VERSION)
POSTFIX_SOURCE	:= $(THIRD_PARTY)/PostFix/PostFix-$(POSTFIX_VERSION)/builds/$(BUILD_PLATFORM)/$(POSTFIX_DIR)

APACHE_VERSION := 2.0.54
APACHE_DIR  := httpd-$(APACHE_VERSION)
APACHE_SOURCE := $(THIRD_PARTY)/apache-httpd/builds/$(BUILD_PLATFORM)/$(APACHE_DIR)

SPELL_VERSION := 0.60.3
SPELL_DIR := aspell-$(SPELL_VERSION)
SPELL_SOURCE := $(THIRD_PARTY)/aspell/builds/$(BUILD_PLATFORM)/$(SPELL_DIR)

RRD_VERSION	:= 1.0.49
RRD_DIR 	:= rrdtool-$(RRD_VERSION)
RRD_SOURCE	:= $(THIRD_PARTY)/rrdtool/builds/$(BUILD_PLATFORM)/$(RRD_DIR)

MRTG_VERSION	:= 2.10.15
MRTG_DIR 	:= mrtg-$(MRTG_VERSION)
MRTG_SOURCE	:= $(THIRD_PARTY)/mrtg/builds/$(MRTG_DIR)

SNMP_VERSION := 5.4
SNMP_DIR	:= net-snmp-$(SNMP_VERSION)
SNMP_SOURCE	:= $(THIRD_PARTY)/snmp/builds/$(BUILD_PLATFORM)/$(SNMP_DIR)

JAVA_VERSION	:= 1.6.0
JAVA_FILE	:= jdk
JAVA_DIR	:= java
JAVA_SOURCE	:= $(THIRD_PARTY)/$(JAVA_DIR)/$(JAVA_FILE)$(JAVA_VERSION)

CLAMAV_VERSION := 0.90.2
CLAMAV_DIR :=  clamav
CLAMAV_SOURCE := $(THIRD_PARTY)/$(CLAMAV_DIR)/builds/$(BUILD_PLATFORM)/clamav-$(CLAMAV_VERSION)

AMAVISD_VERSION := 2.4.3
AMAVISD_DIR :=  amavisd
AMAVISD_SOURCE := $(THIRD_PARTY)/$(AMAVISD_DIR)/amavisd-new-$(AMAVISD_VERSION)

DSPAM_VERSION := 3.6.2
DSPAM_DIR :=  dspam
DSPAM_SOURCE := $(THIRD_PARTY)/$(DSPAM_DIR)/builds/$(BUILD_PLATFORM)/$(DSPAM_DIR)-$(DSPAM_VERSION)

PERDITION_VERSION := 1.17
PERDITION_DIR := perdition
PERDITION_SOURCE := $(THIRD_PARTY)/$(PERDITION_DIR)/builds/$(BUILD_PLATFORM)/$(PERDITION_DIR)-$(PERDITION_VERSION)

SASL_VERSION := 2.1.21.ZIMBRA
SASL_DIR := cyrus-sasl
SASL_SOURCE := $(THIRD_PARTY)/$(SASL_DIR)/builds/$(BUILD_PLATFORM)/$(SASL_DIR)-$(SASL_VERSION)

JAVA_BINARY := /opt/zimbra/$(JAVA_FILE)$(JAVA_VERSION)/bin/java

JNI_EXT := so

PERL_LIB_SOURCE	:= $(THIRD_PARTY)/Perl
